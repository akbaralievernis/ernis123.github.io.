<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Тогуз Коргоол</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            text-align: center;
            background-color: #f0f8ff; /* Светлый фон */
            color: #333;
        }
        h1 {
            color: #0056b3; /* Заголовок */
        }
        .board {
            display: grid;
            grid-template-columns: repeat(9, 70px);
            gap: 10px;
            justify-content: center;
            margin-bottom: 20px;
        }
        .hole {
            width: 70px;
            height: 70px;
            background-color: #add8e6; /* Голубой цвет */
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            font-size: 20px;
            cursor: pointer;
            position: relative;
            transition: background-color 0.3s;
        }
        .hole:hover {
            background-color: #87cefa; /* Более темный голубой при наведении */
        }
        .hole img {
            width: 45px;
            height: 45px;
        }
        .scores {
            margin-bottom: 20px;
            font-size: 18px;
        }
        .hole .stones {
            position: absolute;
            bottom: 5px;
            right: 5px;
            font-size: 14px;
            background-color: white;
            border-radius: 50%;
            padding: 3px 7px;
            border: 1px solid #ccc;
        }
        button {
            padding: 10px 20px;
            font-size: 16px;
            background-color: #0056b3;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #004494; /* Темнее при наведении */
        }
        .difficulty {
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <h1>Тогуз Коргоол</h1>
    <div class="scores">
        <span id="player1-score">Очки Игрока 1: 0</span> | 
        <span id="player2-score">Очки Игрока 2: 0</span>
    </div>
    <div id="board" class="board"></div>
    <div class="difficulty">
        <label for="difficulty">Выберите уровень сложности:</label>
        <select id="difficulty">
            <option value="easy">Легкий</option>
            <option value="medium">Средний</option>
            <option value="hard">Сложный</option>
        </select>
    </div>
    <div>
        <button onclick="restartGame()">Начать заново</button>
    </div>

    <script>
        let board = [
            [9, 9, 9, 9, 9, 9, 9, 9, 9],  // Лунки игрока 1
            [9, 9, 9, 9, 9, 9, 9, 9, 9]   // Лунки игрока 2
        ];
        let scores = [0, 0];
        let currentPlayer = 0;  // Игрок 1 начинает
        let gameMode = 'bot';  // Режим игры (bot или two-players)
        let difficulty = 'easy';  // Уровень сложности

        function createBoard() {
            const boardElement = document.getElementById('board');
            boardElement.innerHTML = '';  // Очистить доску
            for (let player = 0; player < 2; player++) {
                for (let i = 0; i < 9; i++) {
                    const hole = document.createElement('div');
                    hole.className = 'hole';
                    hole.innerHTML = `<img src="path/to/marble.png" alt="marble"><div class="stones">${board[player][i]}</div>`;
                    
                    // Обработчик клика только для игрока 1
                    if (player === 0) {
                        hole.onclick = () => makeMove(currentPlayer, i);
                    }

                    boardElement.appendChild(hole);
                }
            }
        }

        function makeMove(player, holeIndex) {
            if (player !== currentPlayer) {
                alert("Сейчас не ваш ход!");
                return;
            }

            let stones = board[player][holeIndex];
            if (stones === 0) {
                alert("Эта лунка пуста!");
                return;
            }

            board[player][holeIndex] = 0;
            let side = player;
            let hole = holeIndex;

            while (stones > 0) {
                hole++;
                if (hole > 8) {
                    hole = 0;
                    side = 1 - side;  // Переключение на противоположную сторону
                }
                board[side][hole]++;
                stones--;
            }

            // Проверка на захват камней
            if (board[side][hole] % 2 === 0 && side !== currentPlayer) {
                scores[currentPlayer] += board[side][hole];
                board[side][hole] = 0;
            }

            // Проверка на победу по 81 очку
            if (scores[currentPlayer] >= 81) {
                alert(`Игрок ${currentPlayer + 1} победил!`);
                restartGame();
                return;
            }

            currentPlayer = 1 - currentPlayer;
            updateBoard();

            if (gameMode === 'bot' && currentPlayer === 1) {
                setTimeout(botMove, 1000);  // Ход бота с небольшой задержкой
            }

            checkGameOver();
        }

        function botMove() {
            let bestMove = -1;

            if (difficulty === 'easy') {
                // Случайный ход
                do {
                    bestMove = Math.floor(Math.random() * 9);
                } while (board[1][bestMove] === 0);
            } else if (difficulty === 'medium') {
                // Лунка с максимальным количеством камней
                let maxStones = -1;
                for (let i = 0; i < 9; i++) {
                    if (board[1][i] > maxStones) {
                        maxStones = board[1][i];
                        bestMove = i;
                    }
                }
            } else if (difficulty === 'hard') {
                // Сложная стратегия (можно дополнить)
                bestMove = complexStrategy();
            }

            makeMove(1, bestMove);
        }

        function complexStrategy() {
            // Сложная логика выбора лунки для бота
            // Здесь можно реализовать более сложный алгоритм
            let maxStones = -1;
            let bestMove = -1;
            for (let i = 0; i < 9; i++) {
                if (board[1][i] > maxStones) {
                    maxStones = board[1][i];
                    bestMove = i;
                }
            }
            return bestMove;
        }

        function updateBoard() {
            createBoard();
            document.getElementById('player1-score').textContent = `Очки Игрока 1: ${scores[0]}`;
            document.getElementById('player2-score').textContent = `Очки Игрока 2: ${scores[1]}`;
        }

        function checkGameOver() {
            if (board[0].every(hole => hole === 0) || board[1].every(hole => hole === 0)) {
                let winner = scores[0] > scores[1] ? 'Игрок 1' : 'Игрок 2';
                if (scores[0] === scores[1]) {
                    winner = 'Ничья';
                }
                alert(`Игра окончена! Побед
